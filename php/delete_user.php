<?php
// Подключение к базе данных
require_once 'db.php';

// Проверяем, был ли передан идентификатор пользователя для удаления
if (isset($_POST['user_id'])) {
    // Получаем идентификатор пользователя из POST-запроса
    $user_id = $_POST['user_id'];

    // Подготавливаем SQL-запрос для удаления пользователя
    $stmt = $conn->prepare("DELETE FROM users WHERE id = :user_id");

    // Привязываем параметры
    $stmt->bindParam(':user_id', $user_id);

    // Выполняем запрос
    if ($stmt->execute()) {
        // Если запрос выполнен успешно, отправляем ответ об успешном удалении
        echo json_encode(array('success' => true));
    } else {
        // Если произошла ошибка при выполнении запроса, отправляем сообщение об ошибке
        echo json_encode(array('error' => 'Ошибка при удалении пользователя'));
    }
} else {
    // Если идентификатор пользователя не был передан, отправляем сообщение об ошибке
    echo json_encode(array('error' => 'Не передан идентификатор пользователя для удаления'));
}
?>
